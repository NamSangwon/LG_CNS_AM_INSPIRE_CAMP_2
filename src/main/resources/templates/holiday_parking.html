<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Document</title>
</head>

<body>
    <!-- Table Info -->
     <div style="margin: 10px;">
        전체 데이터 : [[${totalElement}]] / 전체 페이지 : [[${totalPage}]]
     </div>
     <!-- Table -->
     <table class="table table-striped" style="margin: 10px;">
        <thead>
            <td>아이디</td>
            <td>시도</td>
            <td>구군</td>
            <td>기관명</td>
            <td>담당자</td>
            <td>연락처</td>
            <td>주소</td>
        </thead>
        <tbody>
            <tr th:each="parking : ${parkings}">
                <td th:text="${parking.id}"></td>
                <td th:text="${parking.sido}"></td>
                <td th:text="${parking.gu}"></td>
                <td th:text="${parking.institution}"></td>
                <td th:text="${parking.manager}"></td>
                <td th:text="${parking.tel}"></td>
                <td th:text="${parking.address}"></td>
            </tr>
        </tbody>
     </table>

    <!-- Search -->
     <div style="margin: 10px;">
        <form>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search" name="search">
              <div class="input-group-btn">
                <button class="btn btn-default" type="submit">
                  <i class="glyphicon glyphicon-search"></i>
                </button>
              </div>
            </div>
          </form>
     </div>

    <!-- Page -->
     <ul class="pagination" style="display: flex; justify-content: center;">
        <!-- 이전 페이지 리스트 (ex. curr=(11, 20), prev=(1, 10))-->
        <li class="page-item" th:if="${startPage} != 1">
            <a class="page-link"
                th:href="@{/holiday-parking(page=${startPage - 1}, search=${param.search})}"
                th:text = "이전" ></a>
        </li>
        <!-- 페이지 목록  (ex. curr=(1, 10)) -->
        <li 
            th:class = "@{|page-item ${page == pageNumber ? 'active' : ''}}"
            th:each="pageNumber : ${#numbers.sequence(startPage, endPage)}">
            <a class="page-link"
                th:href = "@{/holiday-parking(page=${pageNumber}, search=${param.search})}"
                th:text = "${pageNumber}"></a>
        </li>
        <!-- 다음 페이지 리스트 (ex. curr=(1, 10), next=(11, 20)) -->
        <li class="page-item" th:if="${endPage} % 10 == 0">
            <a class="page-link"
                th:href="@{/holiday-parking(page=${endPage + 1}, search=${param.search})}"
                th:text = "다음" ></a>
        </li>
     </ul>
</body>

</html>