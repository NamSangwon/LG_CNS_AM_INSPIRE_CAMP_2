<!DOCTYPE html>
<html lang="en">
<head th:replace="~{common/head}">

</head>
<body>

<div th:replace="~{common/header}">
   
</div>

<nav th:replace="~{common/nav}">

</nav>

<!-- 글 내용 -->
<div class="container mt-5">
  <div class="card">
    <div class="card-body">
      <span class="badge bg-primary rounded-pill" th:text="${board.id} + '번'"></span>
      <h5 class="card-title" th:text="${board.title}"></h5>
      <h6 class="card-subtitle mb-2 text-muted" th:text="${board.userId}"></h6>
      <p class="card-text" th:text="${board.content}"></p>
    </div>
  </div>
</div> 

<!-- 목록 / 수정 / 삭제 -->
<div class="container mt-5">
  <ul class="nav justify-content-end">
    <li class="nav-item">
      <a class="nav-link" href="#" id="list">목록</a>
    </li>
    <li class="nav-item" th:if="${owner}" >
      <a class="nav-link" href="#" id="update" th:num="${board.id}">수정</a>
    </li>
    <li class="nav-item" th:if="${owner}" >
      <a class="nav-link" href="#" id="delete" th:num="${board.id}">삭제</a>
    </li>
  </ul>
</div>

<!-- 추천 -->
<div style="display: flex; justify-content: center;">
  <button type="button" class="btn btn-primary" 
          th:text="'추천 ' + ${board.id}"></button>
</div>

<!-- 댓글 -->
<div>

</div>
<script>
  document.querySelector('#list').addEventListener('click', () => {
    location = `/board`;
  });

  document.querySelector('#update').addEventListener('click', (e)=>{
    e.preventDefault();
    if(confirm('수정하시겠습니까?')) {
      const num = e.target.getAttribute('num');
      location = `/board/update/${num}`;
    }
  });

  document.querySelector('#delete').addEventListener('click', (e) => {
    e.preventDefault();
    if(confirm('삭제하시겠습니까?')) {
      const num = e.target.getAttribute('num');
      location = `/board/delete/${num}`;
    }
  });
</script>

<div th:replace="~{common/footer}">
</div>

</body>
</html>